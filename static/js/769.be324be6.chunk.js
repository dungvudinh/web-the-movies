"use strict";(self.webpackChunkwebthemovie=self.webpackChunkwebthemovie||[]).push([[769],{1769:function(e,r,t){t.r(r),t.d(r,{default:function(){return y}});var n=t(6871),a=t(3878),c=t(184);var s=function(e){return(0,c.jsx)("div",{className:"page-header",style:{backgroundImage:"url(".concat(a,")")},children:(0,c.jsx)("h2",{children:e.children})})},o=t(2985),u=t(2982),i=t(5861),l=t(885),d=t(7757),v=t.n(d),p=t(5888),m=t(2791),f=t(3550);var h=function(e){return(0,c.jsx)("input",{type:e.type,value:e.value,placeholder:e.placeholder,onChange:e.onChange?e.onChange:null,onKeyUp:e.onKeyUp})};var g=function(e){var r=(0,m.useState)(e.keyword?e.keyword:""),t=(0,l.Z)(r,2),a=t[0],s=t[1],u=(0,n.s0)(),i=(0,m.useCallback)((function(){a.trim().length>0&&u("/".concat(o.W3[e.category],"/search/").concat(a))}),[a,e.category,u]);return(0,m.useEffect)((function(){var e=function(e){e.preventDefault(),13===e.keyCode&&i()};return document.addEventListener("keyup",e),function(){return document.removeEventListener("keyup",e)}}),[a,i]),(0,c.jsxs)("div",{className:"movie-search",children:[(0,c.jsx)(h,{type:"text",placeholder:"Enter keyword",value:a,onChange:function(e){return s(e.target.value)}}),(0,c.jsx)(f.Z,{className:"button",type:"submit",onClick:function(){return i()},children:"Search"})]})},x=function(e){var r=(0,m.useState)([]),t=(0,l.Z)(r,2),a=t[0],s=t[1],d=(0,m.useState)(1),h=(0,l.Z)(d,2),x=h[0],y=h[1],k=(0,m.useState)(0),b=(0,l.Z)(k,2),j=b[0],Z=b[1],w=(0,n.UO)().keyword;(0,m.useEffect)((function(){var r=function(){var r=(0,i.Z)(v().mark((function r(){var t,n,a;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=null,void 0!==w){r.next=15;break}n={},r.t0=e.category,r.next=r.t0===o.W3.movie?6:10;break;case 6:return r.next=8,o.ZP.getMoviesList(o.q8.upcoming,{params:n});case 8:return t=r.sent,r.abrupt("break",13);case 10:return r.next=12,o.ZP.getTvList(o.Oq.popular,{params:n});case 12:t=r.sent;case 13:r.next=19;break;case 15:return a={query:w},r.next=18,o.ZP.search(e.category,{params:a});case 18:t=r.sent;case 19:s(t.results),Z(t.total_pages);case 21:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r()}),[e.category,w]);var C=function(){var r=(0,i.Z)(v().mark((function r(){var t,n,c;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=null,void 0!==w){r.next=15;break}n={page:x+1},r.t0=e.category,r.next=r.t0===o.W3.movie?6:10;break;case 6:return r.next=8,o.ZP.getMoviesList(o.q8.upcoming,{params:n});case 8:return t=r.sent,r.abrupt("break",13);case 10:return r.next=12,o.ZP.getTvList(o.Oq.popular,{params:n});case 12:t=r.sent;case 13:r.next=19;break;case 15:return c={query:w,page:x+1},r.next=18,o.ZP.search(e.category,{params:c});case 18:t=r.sent;case 19:s([].concat((0,u.Z)(a),(0,u.Z)(t.results))),y((function(e){return e+1}));case 21:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"section mb-3",children:(0,c.jsx)(g,{keyword:w,category:e.category})}),(0,c.jsx)("div",{className:"movie-grid",children:a&&a.map((function(r){return(0,c.jsx)(p.Z,{category:e.category,item:r},r.id)}))}),x<j?(0,c.jsx)("div",{className:"movie-grid__loadmore",children:(0,c.jsx)(f.f,{className:"small",onClick:function(){return C},children:"Load more"})}):void 0]})};var y=function(){var e=(0,n.UO)().category;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s,{children:e===o.W3.movie?"Movies ":"TV Series"}),(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"section mb-3",children:(0,c.jsx)(x,{category:e})})})]})}}}]);
//# sourceMappingURL=769.be324be6.chunk.js.map